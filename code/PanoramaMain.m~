function [finalimg] = PanoramaMain(inDir)

    pointsToSample = 4;
    epsilon = 10;

    %startup;
    warning('off','all');
    outDir=strcat(inDir,'PANO_',datestr(now,'mmddyyyy_HHMMSSFFF'));
    mkdir(outDir);
    display(strcat(datestr(now,'HH:MM:SS'),' [INFO] ', ...
        ' Output dir created at ',outDir));

    
    
    srcFiles = dir(strcat(outDir,'*'));  
    display(srcFiles);
    for i = 1 : length(srcFiles)
        if srcFiles(i)
        filename = strcat(srcFiles(i).name);
        I = imread(filename);
        
        %do stuff to I
        
        figure, imshow(I);
        imwrite(I,strcat(outDir,'cy_',filename));
    end
    

% % %     %TODO: first read in 2 images from directory
% % %     img1;
% % %     img2;
% % % 
% % %     %TODO: run SiftAndRansac with various pointsToSample and epsilons and
% % %     %choose the best homography matrix based on its determinant etc.
% % % 
% % %     homography = SiftAndRansac(img1, img2, pointsToSample, epsilon);
% % % 
% % %     tform = projective2d(h2);
% % %     warped_img1 = imwarp(img1,tform);

end

